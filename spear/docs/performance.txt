###

- 追求目标：支持无限横向扩展scale out


### 调优点

- 集中互连系的client，智能路由到其他spear，这一点与无状态相悖，应在策略和代码上有所取舍
- 用户退出时删除逻辑时间复杂度太高，每次都需要遍历，可更改为退出时单独标记不可用client，然后起另一个线程遍历删除client
  其它用到遍历的地方也可考虑这个方案，比如分为runq，timeoutq，errorq等
- 目前一个群退出的时候并没有清理整个map，考虑到分布处理了，很难判断班里的人是否全部退出，所以可以考虑采用超时机制
- 杀掉服务端进程的时候，应该做善后处理，将连接释放掉

### 监控

- 监控每个slot
- 开启调优策略后监控slot变化



